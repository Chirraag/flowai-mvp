@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-first responsive design utilities */
@layer base {
  html {
    font-size: 16px;
  }
  
  /* Improved mobile touch targets */
  button, a, input, select, textarea {
    min-height: 44px;
  }
  
  /* Better mobile scrolling */
  * {
    -webkit-overflow-scrolling: touch;
  }
  
  /* Prevent horizontal scroll on mobile */
  body {
    overflow-x: hidden;
  }
}

@layer components {
  /* Mobile-friendly card layouts */
  .mobile-card {
    @apply p-4 sm:p-6 rounded-lg border bg-white shadow-sm;
  }
  
  /* Responsive text sizing */
  .heading-responsive {
    @apply text-xl sm:text-2xl lg:text-3xl font-bold;
  }
  
  .subheading-responsive {
    @apply text-lg sm:text-xl lg:text-2xl font-semibold;
  }
  
  /* Mobile-optimized form controls */
  .form-input-mobile {
    @apply w-full px-3 py-2 text-base border border-gray-300 rounded-md;
    @apply focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent;
  }
}

/* iOS-style toggle switches */
.ios-switch {
  position: relative;
  display: inline-block;
  width: 44px;
  height: 24px;
}

.ios-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

.ios-switch-slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #e5e7eb;
  transition: 0.3s ease;
  border-radius: 12px;
}

.ios-switch-slider:before {
  position: absolute;
  content: "";
  height: 20px;
  width: 20px;
  left: 2px;
  bottom: 2px;
  background-color: white;
  transition: 0.3s ease;
  border-radius: 50%;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2);
}

.ios-switch input:checked + .ios-switch-slider {
  background-color: #22c55e;
}

.ios-switch input:checked + .ios-switch-slider:before {
  transform: translateX(20px);
}

.ios-switch input:focus + .ios-switch-slider {
  box-shadow: 0 0 0 2px rgba(34, 197, 94, 0.3);
}

/* Workflow Designer Animations */
@keyframes flow {
  0% {
    stroke-dashoffset: 0;
  }
  100% {
    stroke-dashoffset: -12;
  }
}

.animate-flow {
  animation: flow 2s linear infinite;
}

@keyframes bounce-subtle {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-2px);
  }
}

.animate-bounce-subtle {
  animation: bounce-subtle 2s ease-in-out infinite;
}

/* Drag and drop visual feedback */
.drag-over {
  border-color: #3b82f6;
  background-color: #eff6ff;
}

/* Node hover effects */
.workflow-node {
  transition: all 0.2s ease-in-out;
}

.workflow-node:hover {
  transform: scale(1.02);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

/* Connection point animations */
.connection-point {
  transition: all 0.2s ease-in-out;
}

.connection-point:hover {
  transform: scale(1.2);
  box-shadow: 0 0 8px rgba(59, 130, 246, 0.5);
}

/* Canvas grid background */
.workflow-canvas {
  background-image: 
    radial-gradient(circle at 1px 1px, rgba(0,0,0,.15) 1px, transparent 0);
  background-size: 20px 20px;
}

:root {
  --background: 0 0% 100%;
  --foreground: 20 14.3% 4.1%;
  --muted: 60 4.8% 95.9%;
  --muted-foreground: 25 5.3% 44.7%;
  --popover: 0 0% 100%;
  --popover-foreground: 20 14.3% 4.1%;
  --card: 0 0% 100%;
  --card-foreground: 20 14.3% 4.1%;
  --border: 20 5.9% 90%;
  --input: 20 5.9% 90%;
  --primary: 207 90% 54%; /* #1c84ff */
  --primary-foreground: 211 100% 99%;
  --secondary: 190 95% 39%; /* #08a5ca */
  --secondary-foreground: 0 0% 100%;
  --accent: 210 40% 96.1%;
  --accent-foreground: 215 25% 27%;
  --destructive: 0 84.2% 60.2%;
  --destructive-foreground: 60 9.1% 97.8%;
  --ring: 20 14.3% 4.1%;
  --radius: 0.5rem;
  
  /* Chart colors */
  --chart-1: 207 90% 54%; /* primary */
  --chart-2: 190 95% 39%; /* secondary */
  --chart-3: 120 100% 35%;
  --chart-4: 30 100% 50%;
  --chart-5: 270 80% 50%;
  
  /* Sidebar */
  --sidebar-background: 0 0% 100%;
  --sidebar-foreground: 20 14.3% 4.1%;
  --sidebar-primary: 207 90% 54%;
  --sidebar-primary-foreground: 211 100% 99%;
  --sidebar-accent: 207 90% 97%;
  --sidebar-accent-foreground: 207 90% 54%;
  --sidebar-border: 20 5.9% 90%;
  --sidebar-ring: 207 90% 54%;
}

@keyframes flow {
  0% {
    stroke-dashoffset: 20;
  }
  100% {
    stroke-dashoffset: 0;
  }
}

.animate-flow {
  animation: flow 2s linear infinite;
}

.dark {
  --background: 240 10% 3.9%;
  --foreground: 0 0% 98%;
  --muted: 240 3.7% 15.9%;
  --muted-foreground: 240 5% 64.9%;
  --popover: 240 10% 3.9%;
  --popover-foreground: 0 0% 98%;
  --card: 240 10% 3.9%;
  --card-foreground: 0 0% 98%;
  --border: 240 3.7% 15.9%;
  --input: 240 3.7% 15.9%;
  --primary: 207 90% 54%; /* #1c84ff */
  --primary-foreground: 211 100% 99%;
  --secondary: 190 95% 39%; /* #08a5ca */
  --secondary-foreground: 0 0% 100%;
  --accent: 215 27.9% 16.9%;
  --accent-foreground: 210 40% 98%;
  --destructive: 0 62.8% 30.6%;
  --destructive-foreground: 0 0% 98%;
  --ring: 240 4.9% 83.9%;
  --radius: 0.5rem;
  
  /* Chart colors */
  --chart-1: 207 90% 54%; /* primary */
  --chart-2: 190 95% 39%; /* secondary */
  --chart-3: 120 100% 35%;
  --chart-4: 30 100% 50%;
  --chart-5: 270 80% 50%;
  
  /* Sidebar */
  --sidebar-background: 240 10% 3.9%;
  --sidebar-foreground: 0 0% 98%;
  --sidebar-primary: 207 90% 54%;
  --sidebar-primary-foreground: 211 100% 99%;
  --sidebar-accent: 215 27.9% 16.9%;
  --sidebar-accent-foreground: 210 40% 98%;
  --sidebar-border: 240 3.7% 15.9%;
  --sidebar-ring: 240 4.9% 83.9%;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
  }
}

.glass-menu-item {
  border-radius: 12px;
  transition: all 0.2s ease;
  position: relative;
  overflow: hidden;
}

.glass-menu-item::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  opacity: 0;
  transition: opacity 0.2s ease;
  z-index: -1;
}

.glass-menu-item:hover::before {
  opacity: 1;
}

.glass-menu-item.active::before {
  background: rgba(59, 130, 246, 0.1);
  opacity: 1;
}

.glass-button {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(12px);
  -webkit-backdrop-filter: blur(12px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  transition: all 0.2s ease;
}

.glass-button:hover {
  background: rgba(255, 255, 255, 0.15);
  transform: translateY(-1px);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.1);
}

.glass-toggle {
  background: rgba(255, 255, 255, 0.08);
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid rgba(255, 255, 255, 0.15);
  border-radius: 8px;
  transition: all 0.2s ease;
}

.glass-toggle:hover {
  background: rgba(255, 255, 255, 0.12);
}

/* Custom styles */
.sidebar-link.active {
  @apply text-primary bg-primary/10 border-l-4 border-primary;
}

.sidebar-link {
  @apply flex items-center px-4 py-2.5 text-sm font-medium text-gray-700 hover:bg-gray-100 transition-colors duration-200;
}

.hide-scrollbar::-webkit-scrollbar {
  display: none;
}

.hide-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

.custom-handle {
  width: 10px !important;
  height: 12px !important;
  border-radius: 5% !important;
  /* background: #1c84ff !important; */
  border: 2px solid #fff !important;
  box-shadow: 0 2px 8px rgba(28,132,255,0.15);
  z-index: 10;
}

.react-flow__attribution {
  display: none !important;
}